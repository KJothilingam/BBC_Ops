<app-sidebar></app-sidebar>

<div class="dashboard-container">
    <!-- Top Cards -->
        <!-- <div class="top-cards">
            <div class="card">
                <div class="icon"><i class="fas fa-users"></i></div>
                <div class="details">
                    <h4>Total Connection</h4>
                    <h2>45</h2>
                </div>
            </div>
            <div class="card">
                <div class="icon"><i class="fas fa-dollar-sign"></i></div>
                <div class="details">
                    <h4>Total Payments</h4>
                    <h2>Rs. 200,000</h2>
                </div>
            </div>
            <div class="card">
                <div class="icon"><i class="fas fa-user-check"></i></div>
                <div class="details">
                    <h4>Pending Payments</h4>
                    <h2>22</h2>
                </div>
            </div>
        </div> -->
        <div class="top-cards">
            <div class="card">
                <div class="icon">
                    <i class="bi bi-people-fill"></i>    <!-- <i class="fas fa-users"></i> -->
                </div>
                <div class="details">
                    <h4>Total Connection</h4>
                    <h2>{{ totalCustomers }}</h2>
                </div>
            </div>
            <div class="card">
                <div class="icon"><i class="bi bi-currency-rupee"></i></div>
                <div class="details">
                    <h4>Total Payments</h4>
                    <h2>Rs. {{ totalPayments }}</h2>
                </div>
            </div>
            <div class="card">
                <div class="icon"><i class="bi bi-exclamation-triangle"></i></div>
                <div class="details">
                    <h4>Pending Payments</h4>
                    <h2>{{ pendingPayments }}</h2>
                </div>
            </div>
        </div>
        

    <!-- Graph & Payment Analysis -->
    <div class="middle-section">
        <div class="graph-card">
            <h4>Total Payments</h4>
            <h2>Rs. 200,000</h2>
            <canvas #paymentGraph></canvas>  <!-- ✅ Use Angular Template Reference -->
        </div>
        <div class="pie-chart">
            <h4>Payment Analysis</h4>
            <canvas #pieChart></canvas>  <!-- ✅ Use Angular Template Reference -->
        </div>
    </div>

    <!-- Weekly Payments & Pending Payments -->
  <div class="extra-info">
    <div class="weekly-payments">
      <h3>Weekly Payments</h3>
      <canvas id="weeklyChart"></canvas>
    </div>
    <div class="pending-payments">
        <app-defaulter-bills></app-defaulter-bills>
      <!-- <h3>Pending Payments</h3> -->
      <!-- <app-defaulter-bills></app-defaulter-bills> -->
      <!-- <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Scno</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let pending of pendingPaymentss">
            <td>
              <img [src]="pending.image" class="avatar">
              {{ pending.name }}
            </td>
            <td>{{ pending.scno }}</td>
            <td>Rs. {{ pending.amount }}</td>
          </tr>
        </tbody>
      </table> -->
    </div>
  </div>


    <!-- Recent Payments -->
    <div class="recent-payments">
        <!-- <h4>Recent Payments</h4> -->
        <app-recent-payments></app-recent-payments>
    </div> 


    
</div>
