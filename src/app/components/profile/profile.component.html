<app-sidebar></app-sidebar>

<div class="profile-container">
  <div class="header">
    <div>
      <!-- <p class="breadcrumb">Profile</p> -->
      <h2 class="title">Employee Profile</h2>
    </div>
    <div class="search-bar">
      <i class="fa fa-search"></i>
      <div class="profile-icon">
        <!-- Profile Avatar -->
      </div>
    </div>
  </div>

  <div class="profile-wrapper">
    <div class="profile-card">
      <div class="profile-header">
        <div class="profile-image">
          <img src="assets/pexels-moh-adbelghaffar-771742.jpg" alt="Profile Picture">
        </div>
      </div>

      <div class="profile-details" *ngIf="employee">
        <p><strong>Employee Id:</strong> {{ employee.employee_id }}</p>
        <p><strong>Name:</strong> {{ employee.name }}</p>
        <p><strong>DOB:</strong> {{ employee.dob }}</p>
        <p><strong>Email:</strong> {{ employee.email }}</p>
        <p><strong>Contact No.:</strong> {{ employee.phone_number }}</p>
        <p><strong>Designation:</strong> {{ employee.designation }}</p>
      </div>

      <button class="edit-btn btn btn-primary" (click)="openEditModal()">Edit</button>

      <!-- Bootstrap Modal for Editing Employee Details -->
<div class="modal fade" [ngClass]="{'show d-block': showModal}" *ngIf="showModal">
  <div class="modal-dialog">
    <div class="modal-content">
      
      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title">Edit Profile</h5>
        <button type="button" class="close" (click)="closeEditModal()">&times;</button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form #editForm="ngForm">
          
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" class="form-control" [(ngModel)]="editedEmployee.email" name="email" required>
          </div>

          <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="text" id="phone" class="form-control" [(ngModel)]="editedEmployee.phone_number" name="phone" required>
          </div>

        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeEditModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="updateEmployee()">Save Changes</button>
      </div>

    </div>
  </div>
</div>
<!-- End of Modal -->

      <!-- End of Modal -->
    </div>
  </div>
</div>
